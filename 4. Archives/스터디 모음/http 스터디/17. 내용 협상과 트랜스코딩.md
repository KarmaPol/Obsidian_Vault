#### 내용 협상
하나의 URL이 여러 리소스 중 적합한 것에 대응
## 내용 협상 기법
### 클라이언트 주도 협상
서버가 클라이언트 요청을 받았을 때 가능한 페이지의 목록을 응답
-> 클라이언트가 보고 싶은 것을 선택

- 구현하기 쉬움
- 두번의 요청 필요
- 리소스 별로 여러개의 url 필요
### 서버 주도 협상
클라이언트가 자신이 무엇을 선호하는지 충분한 정보를 서버에게 전달
-> 서버는 클라이언트의 요청 헤더로 정보 파악해 최적의 리소스 응답
#### 클라이언트 내용 협상 헤더
- Accept - 미디어 타입
- Accept-Language - 언어
- Accept-Charset - charset
- Accept-Encoding - 인코딩
### 투명 협상
중개자 프락시를 둠으로써 
클라이언트와의 **메시지 교환을 최소화** 및 서버 주도 협상으로 인한 **부하 최소화**

Vary 응답 헤더를 포함시켜 내용협상을 위해 어떤 헤더를 사용하고 있는지 포함
Vary: User-Agent, Cookie
### 캐시와 얼터네이트
캐시는 서버가 응답을 돌려줄 때 사용했던 의사결정 로직을 상당 부분 사용해야한다

캐시된 리소스에 Vary 응답 헤더를 포함하여
새로운 클라이언트 요청의 헤더값과 비교한다
-> 맞는것이 없다면 배리언트를 새로 가져온다
## 트랜스코딩
서버가 클라이언트의 요구에 맞는 문서를 갖고 있지 않을 경우, 변환할 수 있다
### 포맷 변환
- 오래된 모바일 단말기가 데스크톱을 위한 문서에 접근하면 HTML을 WML로 변환한다
- 포맷 변환은 내용 협상 헤더에 의해 주도된다
### 정보 합성
문서에서 정보의 요점을 추출
ex) 각 절의 제목에 기반한 문서 개요 생성
### 콘텐츠 주입
사용자에 맞춰 콘텐츠를 주입
ex) 자동 광고 생성, 사용자 추적 시스템
### vs 정적으로 미리 생성
사본을 미리 생성하는 것은 현실적이지 않다
- 페이지의 수정 까다로움
- 동적 컨텐츠 삽입 불가
